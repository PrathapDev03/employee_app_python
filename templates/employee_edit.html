<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit Employee</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app-shell">
    <header class="navbar">
      <div class="navbar-left">
        <div class="logo-circle">EM</div>
        <div class="brand">
          <h1>Employee Manager</h1>
          <p>Edit employee details (Admin only)</p>
        </div>
      </div>
      <div class="navbar-right">
        <a href="{{ url_for('dashboard') }}" class="btn ghost small">Dashboard</a>
        <span class="user-chip">Hi, {{ user_name }}</span>
        <a href="{{ url_for('logout') }}" class="btn ghost small">Logout</a>
      </div>
    </header>

    <main class="page">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="flash-container">
            {% for category, message in messages %}
              <div class="flash flash-{{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <section class="card">
        <div class="card-header">
          <h3>Edit Employee #{{ employee.id }}</h3>
          <p>Update the details and save changes.</p>
        </div>
        <form method="post" class="form-layout">
          <div class="form-grid">
            <div class="form-field">
              <label for="id">Employee ID</label>
              <input type="number" id="id" value="{{ employee.id }}" disabled>
            </div>
            <div class="form-field">
              <label for="firstName">First Name</label>
              <input type="text" name="firstName" id="firstName" value="{{ employee.first_name }}" required>
            </div>
            <div class="form-field">
              <label for="lastName">Last Name</label>
              <input type="text" name="lastName" id="lastName" value="{{ employee.last_name }}" required>
            </div>
            <div class="form-field">
              <label for="salary">Salary (â‚¹)</label>
              <input type="number" step="0.01" name="salary" id="salary" value="{{ employee.salary }}" required>
            </div>
            <div class="form-field full">
              <label for="designation">Designation</label>
              <input type="text" name="designation" id="designation" value="{{ employee.designation }}" required>
            </div>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn primary">Update</button>
            <a href="{{ url_for('list_employees') }}" class="btn ghost">Cancel</a>
          </div>
        </form>
      </section>
    </main>
  </div>
</body>
</html>
